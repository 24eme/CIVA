<?php
class RecoltantExploitant extends BaseRecoltantExploitant {
  public function getNom() {
    if ($this->_get('nom'))
      return $this->_get('nom');
    return preg_replace('/\s+/', ' ', $this->getCouchdbDocument()->nom);
  }
  public function getTelephone() {
    if ($this->_get('telephone'))
	return $this->_get('telephone');
    return $this->getCouchdbDocument()->telephone;
  }
  public function getAdresse() {
    if ($this->_get('adresse'))
      return $this->_get('adresse');
    return $this->getCouchdbDocument()->siege->adresse;
  }
  public function getCodePostal() {
    if ($this->_get('code_postal'))
      return $this->_get('code_postal');
    return $this->getCouchdbDocument()->siege->code_postal;
  } 
  public function getCommune() {
    if ($this->_get('commune'))
      return $this->_get('commune');
    return $this->getCouchdbDocument()->siege->commune;
  }
  public function getEmail() {
    return $this->getCouchdbDocument()->email;
  }
  public function getDateNaissance() {
    return preg_replace('/(\d+)\-(\d+)\-(\d+)/', '\3/\2/\1', $this->_get('date_naissance'));
  }
  public function save($doc) {
    echo "SAVE";
    print_r($doc);
  }
}