<?php

class ExploitationAcheteursItemForm extends BaseForm {

    public function configure() {
        $this->setWidgets(array(
            'cvi' => new sfWidgetFormInputHidden(array()),
        ));

        $this->setValidators(array(
            'cvi' => new sfValidatorString(array('required' => $this->getOption('cvi_required', false))),
        ));

        $conf_appellation = $this->getOption('conf_appellation');
        foreach($conf_appellation as $appellation_key => $appellation_item) {
            $this->widgetSchema[$appellation_key] = new sfWidgetFormInputCheckbox();
            $this->validatorSchema[$appellation_key] = new sfValidatorBoolean();
        }

        $this->widgetSchema->setNameFormat('acheteur[%s]');
        $this->errorSchema = new sfValidatorErrorSchema($this->validatorSchema);

    }

}