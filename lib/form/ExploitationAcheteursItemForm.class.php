<?php

class ExploitationAcheteursItemForm extends BaseForm {

    public function configure() {
        $this->setWidgets(array(
            'cvi' => new sfWidgetFormInputHidden(array()),
        ));

        $this->setValidators(array(
            'cvi' => new sfValidatorString(array('required' => $this->getOption('cvi_required', false))),
        ));

        $appellations = $this->getOption('appellations');
        foreach($appellations as $key => $item) {
            $this->widgetSchema[$key] = new sfWidgetFormInputCheckbox();
            $this->validatorSchema[$key] = new sfValidatorBoolean();
        }

        $this->widgetSchema->setNameFormat('acheteur[%s]');
        $this->errorSchema = new sfValidatorErrorSchema($this->validatorSchema);

    }

}