# Generated by the windmill services transformer
from windmill.authoring import WindmillTestClient

def test_RecolteTotale():
    client = WindmillTestClient(__name__)

    client.open(url=u'http://declaration.dev.vinsdalsace.fr/civa_dev.php/')
    client.waits.forPageLoad(timeout=u'8000')
    client.click(id=u'recoltant_cvi')
    client.type(text=u'6823700100', id=u'recoltant_cvi')
    client.click(name=u'boutons[valider]')
    client.waits.forPageLoad(timeout=u'8000')
    client.click(link=u'Ann\xe9es pr\xe9c\xe9dentes')
    client.click(xpath=u"//div[@id='precedentes_declarations']/div/ul/li[2]/ul/li/ul/li/a")
    client.waits.forPageLoad(timeout=u'20000')
    client.waits.forElement(link=u'R\xe9colte totale', timeout=u'8000')
    client.click(link=u'R\xe9colte totale')
    client.click(xpath=u"//div[@id='appelations']/table/tbody/tr[4]/td[1]")
    client.asserts.assertText(xpath=u"//div[@id='appelations']/table/thead/tr/th[2]/span", validator=u'AOC')
    client.open(url=u'http://declaration.dev.vinsdalsace.fr/civa_dev.php/')
    client.waits.forPageLoad(timeout=u'8000')
    client.click(name=u'boutons[next]')
    client.click(xpath=u"//div[@id='presentation_infos']/div/a/img")
    client.waits.forPageLoad(timeout=u'20000')
    client.waits.forElement(name=u'boutons[next]', timeout=u'8000')
    client.click(xpath=u"//div[@id='presentation_infos']/div/a/img")
    client.waits.forElement(timeout=u'8000', xpath=u"//div[@id='modification_infos']/div[7]/input")
    client.click(xpath=u"//div[@id='modification_infos']/div[7]/input")
    client.waits.forPageLoad(timeout=u'80000')
    client.waits.forElement(timeout=u'8000', name=u'boutons[next]')
    client.click(name=u'boutons[next]')
    client.waits.forElement(timeout=u'8000', name=u'boutons[next]')
    client.click(name=u'boutons[next]')
    client.waits.forPageLoad(timeout=u'20000')
    client.waits.forElement(timeout=u'8000', id=u'exploitation_autres_lies')
    client.click(id=u'exploitation_autres_lies')
    client.type(text=u'18', id=u'exploitation_autres_lies')
    client.type(text=u'99', id=u'exploitation_autres_jeunes_vignes')
    client.click(name=u'boutons[next]')
    client.waits.forPageLoad(timeout=u'20000')
    client.waits.forElement(timeout=u'8000', name=u'boutons[next]')
    client.click(name=u'boutons[next]')
    client.waits.forPageLoad(timeout=u'20000')
    client.waits.forElement(timeout=u'8000', name=u'boutons[next]')
    client.click(name=u'boutons[next]')
    client.waits.forPageLoad(timeout=u'20000')
    client.waits.forElement(xpath=u"//div[@id='confirmation_fin_declaration']/h2", timeout=u'8000')
    client.click(xpath=u"//div[@id='confirmation_fin_declaration']/h2")
    client.asserts.assertText(xpath=u"//div[@id='confirmation_fin_declaration']/h2", validator=u'Confirmation')
    client.click(link=u'Deconnexion')
    client.asserts.assertText(validator=u'Connexion', link=u'Connexion')
