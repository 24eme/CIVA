<?php

class _TiersExploitant extends Base_TiersExploitant {

    /**
     *
     * @return string 
     */
    public function getNom() {
        if ($this->_get('nom'))
            return $this->_get('nom');
        return preg_replace('/\s+/', ' ', $this->getCouchdbDocument()->nom);
    }

    /**
     *
     * @return string 
     */
    public function getTelephone() {
        $v = $this->_get('telephone');
        if (intval($v))
            return $v;
        return $this->getCouchdbDocument()->telephone;
    }

    /**
     *
     * @return string 
     */
    public function getAdresse() {
        if ($this->_get('adresse'))
            return $this->_get('adresse');
        return $this->getCouchdbDocument()->siege->adresse;
    }

    /**
     *
     * @return string 
     */
    public function getCodePostal() {
        if ($this->_get('code_postal'))
            return $this->_get('code_postal');
        return $this->getCouchdbDocument()->siege->code_postal;
    }

    /**
     *
     * @return string 
     */
    public function getCommune() {
        if ($this->_get('commune'))
            return $this->_get('commune');
        return $this->getCouchdbDocument()->siege->commune;
    }

    /**
     *
     * @return string 
     */
    public function getEmail() {
        return $this->getCouchdbDocument()->email;
    }

    /**
     *
     * @return string 
     */
    public function getDateNaissanceFr() {
        return preg_replace('/(\d+)\-(\d+)\-(\d+)/', '\3/\2/\1', $this->get('date_naissance'));
    }
}