<?php

class ExploitationAutresForm extends sfCouchdbFormDocumentJson {

    public function configure() {
        $this->setWidgets(array(
            'lies' => new sfWidgetFormInputText(array()),
            'jeunes_vignes' => new sfWidgetFormInputText(),
        ));

        $this->setValidators(array(
            'lies' => new sfValidatorNumber(array('required' => false)),
            'jeunes_vignes' => new sfValidatorNumber(array('required' => false)),
        ));

        $this->widgetSchema->setLabel('lies', 'HL');
        $this->widgetSchema->setLabel('jeunes_vignes', 'Ares');

        //$this->validatorSchema->setPostValidator();

        $this->widgetSchema->setNameFormat('exploitation_autres[%s]');
        $this->errorSchema = new sfValidatorErrorSchema($this->validatorSchema);

    }

}